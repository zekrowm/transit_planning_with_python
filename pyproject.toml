# pyproject.toml

# ================================================================
# PYTHON LINTING, FORMATTING & TYPE CHECKING
# ================================================================
# ----------------------------------------------------------------
# ruff
# ----------------------------------------------------------------
[tool.ruff]
target-version = "py312"
line-length    = 100

[tool.ruff.lint]
# I  → isort-compatible import ordering
# F  → Pyflakes-equivalent static analysis
# D  → pydocstyle (Google-style enforced below)
# ANN = flake8-annotations
# TC = flake8-type-checking
select   = ["I", "F", "D", "ANN", "TCH", "B", "E", "W", "T20"]
fixable  = ["F401", "D", "I"]
ignore   = ["ANN401", "TC002", "TC003"]

[tool.ruff.lint.per-file-ignores]
# Keep tests lean: skip module docstrings and param annotations for fixtures.
"tests/**/*" = ["D100", "D101", "D102", "D103", "D104", "D105", "D106", "D107", "ANN001"]
"dev_tools/**/*" = ["T201"]

[tool.ruff.lint.pydocstyle]
convention = "google"

# ----------------------------------------------------------------
# ty
# ----------------------------------------------------------------
[tool.ty.environment]
python-version = "3.12"

[tool.ty.rules]
unresolved-import = "warn"        # C-extension libs without stubs

# ----------------------------------------------------------------
# mypy
# ----------------------------------------------------------------
[tool.mypy]
files = ["scripts/ridership_tools"]
python_version = "3.12"
ignore_missing_imports = true
warn_unused_ignores = true
show_error_codes = true

# ================================================================
# COMMIT MESSAGE LINTING
# ================================================================
